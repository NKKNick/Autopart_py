{% extends 'sidebar.html' %}

{% block title %}Order detail {% endblock %}

{% block content %}
{% if payment %}
<div class="my-5 container text-center" style="width: 100%;">
    <div class="row">
        <h1 >รายละเอียดคำสั่งซื้อ</h1>
        <div class="mt-5">
            <table class="table">
                <thead>
                  <tr>
                    <th scope="col">id</th>
                    <th scope="col">สินค้า</th>
                    <th scope="col">ราคา</th>
                    <th scope="col">จำนวน</th>
                    <th scope="col">รวม</th>
                  </tr>
                </thead>
                <tbody>
                    {% for i in orders %}
                  <tr>
                    <th scope="row">{{i.id}}</th>
                    <td>{{i.product}}</td>
                    <td>{{i.price}}</td>
                    <td>{{i.amount}}</td>
                    <td>{{ i.sum}}</td>
                  </tr>
                    {% endfor %}
                    <tr>
                        <th scope="row"></th>
                        <td></td>
                        <td></td>
                        <td>ยอดชำระรวม</td>
                        <td>{{ total}}</td>
                    </tr>
                </tbody>
              </table>
              <div class="container">
                <div class="row">
                  <h2>สลิป</h2>
                  <div class="my-4">
                    <img src="{{payment.image.url}}" alt="slip" style="height: 100%; width: 30%;">
                  </div>
                  {% if order.status == "2" %}
                  <div class="">
                    <a class="btn btn-success mx-5 btn-lg" href="{%url 'accept_order' order.id %}">ยืนยัน</a>
                    <a class="btn btn-danger mx-5 btn-lg" href="{%url 'cancel_order' order.id %}">ยกเลิก</a>
                  </div>
                  {% endif %}
              </div>
            </div>
        </div>
    </div>
</div>
{% else %}
<div class="my-5 container text-center" style="flex-grow: 1; overflow-y: auto;">
    <div class="row">
        <h1 >รายละเอียดคำสั่งซื้อ</h1>
        <div class="mt-5">
            <table class="table">
                <thead>
                  <tr>
                    <th scope="col">id</th>
                    <th scope="col">สินค้า</th>
                    <th scope="col">ราคา</th>
                    <th scope="col">จำนวน</th>
                    <th scope="col">รวม</th>
                  </tr>
                </thead>
                <tbody>
                    {% for i in orders %}
                  <tr>
                    <th scope="row">{{i.id}}</th>
                    <td>{{i.product}}</td>
                    <td>{{i.price}}</td>
                    <td>{{i.amount}}</td>
                    <td>{{ i.sum}}</td>
                  </tr>
                    {% endfor %}
                    <tr>
                        <th scope="row"></th>
                        <td></td>
                        <td></td>
                        <td>ยอดชำระรวม</td>
                        <td>{{ total}}</td>
                    </tr>
                </tbody>
              </table>
              <div class="my-5">
                <h1 class="mb-3">ลูกค้ายังไม่อัพโหลดสลิป</h1>
                <svg xmlns="http://www.w3.org/2000/svg" width="50%" height="50%" fill="currentColor" class="bi bi-emoji-frown" viewBox="0 0 16 16">
                <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"/>
                <path d="M4.285 12.433a.5.5 0 0 0 .683-.183A3.5 3.5 0 0 1 8 10.5c1.295 0 2.426.703 3.032 1.75a.5.5 0 0 0 .866-.5A4.5 4.5 0 0 0 8 9.5a4.5 4.5 0 0 0-3.898 2.25.5.5 0 0 0 .183.683M7 6.5C7 7.328 6.552 8 6 8s-1-.672-1-1.5S5.448 5 6 5s1 .672 1 1.5m4 0c0 .828-.448 1.5-1 1.5s-1-.672-1-1.5S9.448 5 10 5s1 .672 1 1.5"/>
              </svg>
                </div>

        </div>
    </div>
</div>

{% endif %}

{% endblock %}